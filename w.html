<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galaxia del Amor 3D</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(180deg, #1a0033 0%, #330066 50%, #1a0033 100%);
            overflow: hidden;
            font-family: 'Arial', sans-serif;
            touch-action: none;
        }

        #container {
            width: 100%;
            height: 100vh;
        }

        .controles {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(138, 43, 226, 0.3);
            padding: 12px 25px;
            border-radius: 20px;
            color: #fff;
            font-size: 0.85rem;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(186, 85, 211, 0.5);
            text-align: center;
            box-shadow: 0 0 30px rgba(138, 43, 226, 0.6);
        }

        .controles div {
            display: inline-block;
            margin: 0 10px;
        }
    </style>
</head>
<body>
    <div id="container"></div>
    <div class="controles">
        <div>Tu mundo ğŸ¥ºğŸ’</div>
       
    </div>

   <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // ============================================
        // AUDIO
        // ============================================
        const audio = new Audio('b.mp3');
        audio.loop = true;
        
        let audioIniciado = false;
        document.addEventListener('click', () => {
            if (!audioIniciado) {
                audio.play().catch(e => console.log('Error al reproducir:', e));
                audioIniciado = true;
            }
        });
        // ============================================
        // CONFIGURACIÃ“N THREE.JS
        // ============================================
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x1a0033, 0.0002);
        
        const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 10000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        document.getElementById('container').appendChild(renderer.domElement);

        camera.position.set(0, 0, 600);

        // ============================================
        // FRASES DE AMOR
        // ============================================
        const frasesAmor = [
            "ğŸ’– Te amo mÃ¡s que a nada",
            "âœ¨ Eres mi todo",
            "ğŸ’• Mi corazÃ³n late por ti",
            "ğŸŒŸ Eres mi estrella",
            "ğŸ’« Te amo infinitamente",
            "â¤ï¸ Eres mi vida",
            "ğŸ’ Mi amor eterno",
            "ğŸŒ¹ Eres mi razÃ³n",
            "ğŸ’— Te amarÃ© siempre",
            "â­ Eres mi luz",
            "ğŸ’˜ Mi corazÃ³n es tuyo",
            "ğŸŒº Eres mi felicidad",
            "ğŸ’“ Te necesito",
            "ğŸŒ¸ Eres mi sueÃ±o",
            "ğŸ’ Amor infinito",
            "ğŸ¦‹ Eres mi mariposa",
            "ğŸ’– Te adoro completamente",
            "ğŸŒ¼ Mi amor verdadero",
            "ğŸ’• Eres mi destino",
            "ğŸŒ™ Mi luna hermosa",
            "â¤ï¸â€ğŸ”¥ Me incendias el alma",
            "ğŸ’ Eres mi universo",
            "âœ¨ Mi razÃ³n de ser",
            "ğŸŒŸ Eres mi milagro",
            "ğŸ’— Te amo locamente",
            "ğŸ€ Eres mi princesa",
            "ğŸ’˜ Mi media naranja",
            "ğŸŒ¹ Eres perfecta para mÃ­",
            "ğŸ’« Mi estrella fugaz",
            "ğŸ’“ Eres mi respirar",
            "ğŸŒº Mi flor mÃ¡s bella",
            "ğŸ’ Te amo con el alma",
            "â­ Eres mi fortuna",
            "ğŸ’– Mi amor bonito",
            "ğŸŒ¸ Eres mi primavera",
            "â¤ï¸ Te amo cada dÃ­a mÃ¡s",
            "ğŸ’• Eres mi alegrÃ­a",
            "ğŸ¦‹ Mi mariposa dorada",
            "ğŸ’ Eres mi tesoro",
            "ğŸŒ¼ Mi flor favorita",
            "âœ¨ Eres mi magia",
            "ğŸ’— Te quiero infinito",
            "ğŸŒŸ Mi estrella brillante",
            "ğŸ’˜ Eres mi pasiÃ³n",
            "ğŸŒ¹ Mi rosa perfecta",
            "ğŸ’« Eres mi cometa",
            "ğŸ’“ Mi latido constante",
            "ğŸŒº Eres mi paraÃ­so",
            "ğŸ’ Te amo profundamente",
            "â­ Eres mi galaxia",
            "ğŸ’– Mi amor sincero",
            "ğŸŒ¸ Eres mi jardÃ­n",
            "â¤ï¸ Te amo sin medida",
            "ğŸ’• Mi corazoncito",
            "ğŸ¦‹ Eres mi libertad",
            "ğŸ’ Mi amor puro",
            "ğŸŒ¼ Eres mi campo de flores",
            "âœ¨ Mi brillo eterno",
            "ğŸ’— Te amo mÃ¡s que ayer",
            "ğŸŒŸ Eres mi constelaciÃ³n",
            "ğŸ’˜ Mi gran amor",
            "ğŸŒ¹ Eres mi reina",
            "ğŸ’« Mi deseo cumplido",
            "ğŸ’“ Eres mi pulso",
            "ğŸŒ™ Mi noche estrellada",
            "ğŸŒ  Eres mi cometa",
            "ğŸ’– Eres mi inspiraciÃ³n",
            "ğŸ’• Mi amor verdadero",
            "âœ¨ Eres mi cielo",
            "ğŸŒŸ Mi sol radiante",
            "ğŸ’ Eres mi hogar",
            "ğŸŒ¹ Mi flor eterna",
            "ğŸ’— Te amo sin fin",
            "â­ Eres mi esperanza",
            "ğŸ’˜ Mi dulce amor",
            "ğŸ¦‹ Eres mi sueÃ±o hecho realidad",
            "ğŸ’“ Mi razÃ³n de vivir",
            "ğŸŒº Eres mi oasis",
            "ğŸ’ Te amarÃ© por siempre",
            "ğŸ’– Mi corazÃ³n te pertenece",
            "ğŸŒ¸ Eres mi flor de cerezo",
            "â¤ï¸ Te amo con locura",
            "ğŸ’• Eres mi Ã¡ngel",
            "âœ¨ Mi luz divina",
            "ğŸŒŸ Eres mi bendiciÃ³n",
            "ğŸ’ Mi amor incondicional",
            "ğŸŒ¹ Eres mi jardÃ­n secreto",
            "ğŸ’— Te adoro infinitamente",
            "â­ Eres mi destello",
            "ğŸ’˜ Mi amor eterno",
            "ğŸ¦‹ Eres mi vuelo",
            "ğŸ’“ Mi corazÃ³n late fuerte",
            "ğŸŒº Eres mi refugio",
            "ğŸ’ Te amo mÃ¡s allÃ¡",
            "ğŸ’– Eres mi canciÃ³n",
            "ğŸŒ¸ Mi primavera eterna",
            "â¤ï¸ Te amo hasta el infinito",
            "ğŸ’• Eres mi melodÃ­a",
            "âœ¨ Mi estrella polar",
            "ğŸŒŸ Eres mi brÃºjula",
            "ğŸ’ Mi amor perfecto",
            "ğŸŒ¹ Eres mi amanecer",
            "ğŸ’— Te amo mÃ¡s que todo",
            "â­ Eres mi guÃ­a",
            "ğŸ’˜ Mi amor divino",
            "ğŸ¦‹ Eres mi color",
            "ğŸ’“ Mi corazÃ³n palpita",
            "ğŸŒº Eres mi edÃ©n",
            "ğŸ’ Te amo eternamente",
            "ğŸ’– Eres mi poesÃ­a",
            "ğŸŒ¸ Mi flor de loto",
            "â¤ï¸ Te amo con pasiÃ³n",
            "ğŸ’• Eres mi encanto",
            "âœ¨ Mi lucero",
            "ğŸŒŸ Eres mi fulgor",
            "ğŸ’ Mi amor sublime",
            "ğŸŒ¹ Eres mi atardecer",
            "ğŸ’— Te amo con ternura",
            "â­ Eres mi cometa brillante",
            "ğŸ’˜ Mi amor radiante",
            "ğŸ¦‹ Eres mi arcoÃ­ris",
            "ğŸ’“ Mi corazÃ³n vibra",
            "ğŸŒº Eres mi santuario",
            "ğŸ’ Te amo incondicionalmente",
            "ğŸ’– Eres mi verso",
            "ğŸŒ¸ Mi capullo de amor",
            "â¤ï¸ Te amo con devociÃ³n",
            "ğŸ’• Eres mi hechizo",
            "âœ¨ Mi resplandor",
            "ğŸŒŸ Eres mi aurora",
            "ğŸ’ Mi amor celestial",
            "ğŸŒ¹ Eres mi ocaso",
            "ğŸ’— Te amo profundo",
            "â­ Eres mi meteoro",
            "ğŸ’˜ Mi amor resplandeciente",
            "ğŸ¦‹ Eres mi fantasÃ­a",
            "ğŸ’“ Mi corazÃ³n suspira",
            "ğŸŒº Eres mi nirvana",
            "ğŸ’ Te amo sin lÃ­mites",
            "ğŸ’– Eres mi rima",
            "ğŸŒ¸ Mi pÃ©talo de amor",
            "â¤ï¸ Te amo con frenesÃ­",
            "ğŸ’• Eres mi ensueÃ±o",
            "âœ¨ Mi centella",
            "ğŸŒŸ Eres mi alba",
            "ğŸ’ Mi amor sagrado",
            "ğŸŒ¹ Eres mi crepÃºsculo",
            "ğŸ’— Te amo inmensamente",
            "â­ Eres mi astro",
            "ğŸ’˜ Mi amor fulgurante",
            "ğŸ¦‹ Eres mi ilusiÃ³n",
            "ğŸ’“ Mi corazÃ³n se acelera",
            "ğŸŒº Eres mi shangri-la",
            "ğŸ’ Te amo sin cesar",
            "ğŸ’– Eres mi estrofa",
            "ğŸŒ¸ Mi botÃ³n de rosa",
            "â¤ï¸ Te amo con fervor",
            "ğŸ’• Eres mi quimera",
            "âœ¨ Mi destello estelar",
            "ğŸŒŸ Eres mi claridad",
            "ğŸ’ Mi amor infinito",
            "ğŸŒ¹ Eres mi horizonte",
            "ğŸ’— Te amo sin reservas",
            "â­ Eres mi satÃ©lite",
            "ğŸ’˜ Mi amor centelleante",
            "ğŸ¦‹ Eres mi fantasma",
            "ğŸ’“ Mi corazÃ³n desborda",
            "ğŸŒº Eres mi arcadia",
            "ğŸ’ Te amo sin fronteras",
            "ğŸ’– Eres mi soneto",
            "ğŸŒ¸ Mi lirio de amor",
            "â¤ï¸ Te amo con ardor",
            "ğŸ’• Eres mi utopÃ­a",
            "âœ¨ Mi fulgor celeste",
            "ğŸŒŸ Eres mi luminaria",
            "ğŸ’ Mi amor supremo",
            "ğŸŒ¹ Eres mi bÃ³veda celeste",
            "ğŸ’— Te amo sin medida alguna",
            "â­ Eres mi nebulosa",
            "ğŸ’˜ Mi amor refulgente",
            "ğŸ¦‹ Eres mi ensoÃ±aciÃ³n",
            "ğŸ’“ Mi corazÃ³n se desborda",
            "ğŸŒº Eres mi utopÃ­a",
            "ğŸ’ Te amo sin condiciones",
            "ğŸ’– Eres mi balada",
            "ğŸŒ¸ Mi azucena de amor",
            "â¤ï¸ Te amo con intensidad",
            "ğŸ’• Eres mi elixir",
            "âœ¨ Mi resplandor divino",
            "ğŸŒŸ Eres mi antorcha",
            "ğŸ’ Mi amor absoluto",
            "ğŸŒ¹ Eres mi firmamento",
            "ğŸ’— Te amo sin parar",
            "â­ Eres mi pulsar",
            "ğŸ’˜ Mi amor brillante",
            "ğŸ¦‹ Eres mi revelaciÃ³n",
            "ğŸ’“ Mi corazÃ³n explota",
            "ğŸŒº Eres mi idilio",
            "ğŸ’ Te amo sin dudas",
            "ğŸ’– Eres mi copla",
            "ğŸŒ¸ Mi orquÃ­dea preciosa",
            "â¤ï¸ Te amo con vehemencia",
            "ğŸ’• Eres mi panacea",
            "âœ¨ Mi brillo celestial",
            "ğŸŒŸ Eres mi faro",
            "ğŸ’ Mi amor total",
            "ğŸŒ¹ Eres mi cosmos",
            "ğŸ’— Te amo sin descanso",
            "â­ Eres mi quÃ¡sar",
            "ğŸ’˜ Mi amor luminoso",
            "ğŸ¦‹ Eres mi visiÃ³n",
            "ğŸ’“ Mi corazÃ³n desboca",
            "ğŸŒº Eres mi paraÃ­so terrenal",
            "ğŸ’ Te amo sin miedos",
            "ğŸ’– Eres mi dÃ©cima",
            "ğŸŒ¸ Mi magnolia hermosa",
            "â¤ï¸ Te amo con Ã­mpetu",
            "ğŸ’• Eres mi bÃ¡lsamo",
            "âœ¨ Mi esplendor astral",
            "ğŸŒŸ Eres mi tea",
            "ğŸ’ Mi amor completo",
            "ğŸŒ¹ Eres mi vÃ­a lÃ¡ctea",
            "ğŸ’— Te amo sin pausa",
            "â­ Eres mi supernova",
            "ğŸ’˜ Mi amor resplandor",
            "ğŸ¦‹ Eres mi apariciÃ³n",
            "ğŸ’“ Mi corazÃ³n galopa",
            "ğŸŒº Eres mi shangri-la",
            "ğŸ’ Te amo sin temores",
            "ğŸ’– Eres mi haiku",
            "ğŸŒ¸ Mi jazmÃ­n de amor",
            "â¤ï¸ Te amo con brÃ­o",
            "ğŸ’• Eres mi elÃ­xir vital",
            "âœ¨ Mi fulgor inmortal",
            "ğŸŒŸ Eres mi llama",
            "ğŸ’ Mi amor Ã­ntegro",
            "ğŸŒ¹ Eres mi infinito",
            "ğŸ’— Te amo sin tregua",
            "â­ Eres mi agujero negro",
            "ğŸ’˜ Mi amor incandescente",
            "ğŸ¦‹ Eres mi epifanÃ­a",
            "ğŸ’“ Mi corazÃ³n brinca",
            "ğŸŒº Eres mi cielo en tierra",
            "ğŸ’ Te amo sin retorno",
            "ğŸ’– Eres mi trova",
            "ğŸŒ¸ Mi camelia divina",
            "â¤ï¸ Te amo con ahÃ­nco",
            "ğŸ’• Eres mi nÃ©ctar",
            "âœ¨ Mi esplendor eterno",
            "ğŸŒŸ Eres mi candela",
            "ğŸ’ Mi amor cabal",
            "ğŸŒ¹ Eres mi eternidad",
            "ğŸ’— Te amo sin freno",
            "â­ Eres mi big bang",
            "ğŸ’˜ Mi amor deslumbrante"
        ];

        // ============================================
        // GALAXIA Ã‰PICA CON ESPIRAL CENTRADA
        // ============================================
        const galaxiaGroup = new THREE.Group();
        galaxiaGroup.position.set(0, 0, 0);

        // NÃšCLEO CENTRAL MÃS GRANDE Y BRILLANTE
        const nucleoGeometry = new THREE.SphereGeometry(40, 32, 32);
        const nucleoMaterial = new THREE.MeshBasicMaterial({
            color: 0x8B4789,
            transparent: true,
            opacity: 0.7
        });
        const nucleo = new THREE.Mesh(nucleoGeometry, nucleoMaterial);
        nucleo.position.set(0, 0, 0);
        
        // Borde brillante rosita
        const bordeGeometry = new THREE.SphereGeometry(42, 32, 32);
        const bordeMaterial = new THREE.MeshBasicMaterial({
            color: 0xFFFFFF,
            transparent: true,
            opacity: 0.6,
            side: THREE.BackSide
        });
        const borde = new THREE.Mesh(bordeGeometry, bordeMaterial);
        nucleo.add(borde);
        
        // TEXTO "Lin ğŸŒ·" EN EL CENTRO
        const canvasNombre = document.createElement('canvas');
        const ctxNombre = canvasNombre.getContext('2d');
        canvasNombre.width = 512;
        canvasNombre.height = 128;
        
        // Texto con brillo especial
        const gradientNombre = ctxNombre.createLinearGradient(0, 0, canvasNombre.width, 0);
        gradientNombre.addColorStop(0, '#FFE6F5');
        gradientNombre.addColorStop(0.5, '#FFFFFF');
        gradientNombre.addColorStop(1, '#FFE6F5');
        
        ctxNombre.fillStyle = gradientNombre;
        ctxNombre.font = 'bold 80px Arial';
        ctxNombre.textAlign = 'center';
        ctxNombre.textBaseline = 'middle';
        ctxNombre.shadowBlur = 30;
        ctxNombre.shadowColor = '#FF69B4';
        ctxNombre.fillText('Lin ğŸŒ·', canvasNombre.width / 2, canvasNombre.height / 2);
        
        const textureNombre = new THREE.CanvasTexture(canvasNombre);
        const materialNombre = new THREE.SpriteMaterial({
            map: textureNombre,
            transparent: true,
            opacity: 1,
            blending: THREE.AdditiveBlending
        });
        const spriteNombre = new THREE.Sprite(materialNombre);
        spriteNombre.position.set(0, 0, 0);
        spriteNombre.scale.set(180, 45, 1);
        nucleo.add(spriteNombre);
        
        scene.add(nucleo);

        // DISCO SUTIL MÃS GRANDE
        const discoGeo = new THREE.CircleGeometry(600, 128);
        const discoMat = new THREE.MeshBasicMaterial({
            color: 0x8B4789,
            transparent: true,
            opacity: 0.08,
            side: THREE.DoubleSide,
            blending: THREE.AdditiveBlending
        });
        const disco = new THREE.Mesh(discoGeo, discoMat);
        disco.rotation.x = Math.PI / 2;
        disco.position.set(0, 0, 0);
        scene.add(disco);

        // PARTÃCULAS BRILLANTES flotando como nieve
        const particulasGeo = new THREE.BufferGeometry();
        const posiciones = [];
        const colores = [];
        const tamaÃ±os = [];

        for (let i = 0; i < 3000; i++) {
            const x = (Math.random() - 0.5) * 2000;
            const y = (Math.random() - 0.5) * 1200;
            const z = (Math.random() - 0.5) * 1500;
            
            posiciones.push(x, y, z);

            // Blancos y rositas brillantes
            const brillo = Math.random();
            colores.push(1, 0.9 + brillo * 0.1, 0.95 + brillo * 0.05);
            
            tamaÃ±os.push(Math.random() * 4 + 1);
        }

        particulasGeo.setAttribute('position', new THREE.Float32BufferAttribute(posiciones, 3));
        particulasGeo.setAttribute('color', new THREE.Float32BufferAttribute(colores, 3));
        particulasGeo.setAttribute('size', new THREE.Float32BufferAttribute(tamaÃ±os, 1));

        const particulasMat = new THREE.PointsMaterial({
            size: 3,
            vertexColors: true,
            transparent: true,
            opacity: 0.8,
            blending: THREE.AdditiveBlending,
            sizeAttenuation: true
        });

        const particulasFlotantes = new THREE.Points(particulasGeo, particulasMat);
        scene.add(particulasFlotantes);

        // ANILLOS HORIZONTALES MÃS SUTILES
        for (let i = 0; i < 2; i++) {
            const anilloGeo = new THREE.RingGeometry(60 + i * 30, 65 + i * 30, 64);
            const anilloMat = new THREE.MeshBasicMaterial({
                color: 0xFFB6E1,
                transparent: true,
                opacity: 0.15 - i * 0.05,
                side: THREE.DoubleSide,
                blending: THREE.AdditiveBlending
            });
            const anillo = new THREE.Mesh(anilloGeo, anilloMat);
            anillo.position.set(0, 0, 0);
            anillo.rotation.x = Math.PI / 2;
            anillo.userData.velocidadRotacion = 0.005 + i * 0.003;
            scene.add(anillo);
        }

        // ESTRELLAS DE FONDO - UN CHINGO
        const estrellasGeo = new THREE.BufferGeometry();
        const estrellasPos = [];
        const estrellasCol = [];
        const estrellasTam = [];
        
        for (let i = 0; i < 5000; i++) {
            const x = (Math.random() - 0.5) * 4000;
            const y = (Math.random() - 0.5) * 4000;
            const z = (Math.random() - 0.5) * 4000;
            estrellasPos.push(x, y, z);
            
            const brilloBase = Math.random() * 0.7 + 0.3;
            estrellasCol.push(brilloBase, brilloBase, brilloBase * 0.9);
            estrellasTam.push(Math.random() * 3 + 0.5);
        }
        
        estrellasGeo.setAttribute('position', new THREE.Float32BufferAttribute(estrellasPos, 3));
        estrellasGeo.setAttribute('color', new THREE.Float32BufferAttribute(estrellasCol, 3));
        estrellasGeo.setAttribute('size', new THREE.Float32BufferAttribute(estrellasTam, 1));
        
        const estrellasMat = new THREE.PointsMaterial({
            size: 2,
            vertexColors: true,
            transparent: true,
            opacity: 0.8,
            sizeAttenuation: true
        });
        
        const estrellas = new THREE.Points(estrellasGeo, estrellasMat);
        scene.add(estrellas);

        // AURORAS BOREALES
        const auroraMaterial1 = new THREE.ShaderMaterial({
            uniforms: {
                time: { value: 0 }
            },
            vertexShader: `
                varying vec2 vUv;
                void main() {
                    vUv = uv;
                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                }
            `,
            fragmentShader: `
                uniform float time;
                varying vec2 vUv;
                void main() {
                    float wave = sin(vUv.x * 3.0 + time) * 0.5 + 0.5;
                    float gradient = pow(1.0 - vUv.y, 2.0);
                    vec3 color1 = vec3(0.4, 0.8, 1.0);
                    vec3 color2 = vec3(0.8, 0.3, 1.0);
                    vec3 finalColor = mix(color1, color2, wave);
                    gl_FragColor = vec4(finalColor, gradient * 0.3);
                }
            `,
            transparent: true,
            side: THREE.DoubleSide,
            blending: THREE.AdditiveBlending
        });

        const auroraMaterial2 = new THREE.ShaderMaterial({
            uniforms: {
                time: { value: 0 }
            },
            vertexShader: `
                varying vec2 vUv;
                void main() {
                    vUv = uv;
                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                }
            `,
            fragmentShader: `
                uniform float time;
                varying vec2 vUv;
                void main() {
                    float wave = sin(vUv.x * 2.5 - time * 0.8) * 0.5 + 0.5;
                    float gradient = pow(1.0 - vUv.y, 2.0);
                    vec3 color1 = vec3(1.0, 0.4, 0.8);
                    vec3 color2 = vec3(0.5, 0.9, 1.0);
                    vec3 finalColor = mix(color1, color2, wave);
                    gl_FragColor = vec4(finalColor, gradient * 0.25);
                }
            `,
            transparent: true,
            side: THREE.DoubleSide,
            blending: THREE.AdditiveBlending
        });

        // Crear varias capas de auroras
        for (let i = 0; i < 4; i++) {
            const auroraGeo = new THREE.PlaneGeometry(3000, 800, 32, 16);
            const aurora = new THREE.Mesh(auroraGeo, i % 2 === 0 ? auroraMaterial1 : auroraMaterial2);
            
            aurora.position.y = 400 + i * 100;
            aurora.position.z = -800 - i * 200;
            aurora.rotation.x = 0.3;
            
            aurora.userData.velocidad = 0.0003 + i * 0.0001;
            aurora.userData.offsetY = i * 0.5;
            
            scene.add(aurora);
        }

        // MÃS ESTRELLAS CERCANAS Y BRILLANTES
        const estrellasExtraGeo = new THREE.BufferGeometry();
        const estrellasExtraPos = [];
        const estrellasExtraCol = [];
        const estrellasExtraTam = [];
        
        for (let i = 0; i < 8000; i++) {
            const x = (Math.random() - 0.5) * 5000;
            const y = (Math.random() - 0.5) * 5000;
            const z = (Math.random() - 0.5) * 5000;
            estrellasExtraPos.push(x, y, z);
            
            const brilloBase = Math.random() * 0.8 + 0.2;
            const tinte = Math.random();
            if (tinte < 0.3) {
                estrellasExtraCol.push(0.9, 0.9 * brilloBase, 1.0); // Azuladas
            } else if (tinte < 0.6) {
                estrellasExtraCol.push(1.0, 0.9 * brilloBase, 0.9); // Rosadas
            } else {
                estrellasExtraCol.push(brilloBase, brilloBase, brilloBase * 0.95); // Blancas
            }
            
            estrellasExtraTam.push(Math.random() * 4 + 1);
        }
        
        estrellasExtraGeo.setAttribute('position', new THREE.Float32BufferAttribute(estrellasExtraPos, 3));
        estrellasExtraGeo.setAttribute('color', new THREE.Float32BufferAttribute(estrellasExtraCol, 3));
        estrellasExtraGeo.setAttribute('size', new THREE.Float32BufferAttribute(estrellasExtraTam, 1));
        
        const estrellasExtraMat = new THREE.PointsMaterial({
            size: 2.5,
            vertexColors: true,
            transparent: true,
            opacity: 0.7,
            sizeAttenuation: true,
            blending: THREE.AdditiveBlending
        });
        
        const estrellasExtra = new THREE.Points(estrellasExtraGeo, estrellasExtraMat);
        scene.add(estrellasExtra);

        // CONSTELACIONES - LÃ­neas conectando estrellas
        const constelaciones = new THREE.Group();
        for (let c = 0; c < 15; c++) {
            const numEstrellas = 4 + Math.floor(Math.random() * 4);
            const puntosConst = [];
            
            const centroX = (Math.random() - 0.5) * 3000;
            const centroY = (Math.random() - 0.5) * 3000;
            const centroZ = (Math.random() - 0.5) * 3000;
            
            for (let e = 0; e < numEstrellas; e++) {
                puntosConst.push(new THREE.Vector3(
                    centroX + (Math.random() - 0.5) * 400,
                    centroY + (Math.random() - 0.5) * 400,
                    centroZ + (Math.random() - 0.5) * 400
                ));
            }
            
            const constGeo = new THREE.BufferGeometry().setFromPoints(puntosConst);
            const constMat = new THREE.LineBasicMaterial({
                color: 0x4477ff,
                transparent: true,
                opacity: 0.15,
                linewidth: 1
            });
            const constLinea = new THREE.LineLoop(constGeo, constMat);
            constelaciones.add(constLinea);
        }
        scene.add(constelaciones);

        // ============================================
        // FRASES GIRANDO EN CÃRCULO ALREDEDOR DEL NÃšCLEO
        // ============================================
        const frasesGroup = new THREE.Group();
        frasesGroup.position.set(0, 0, 0);

        // Crear suficientes frases para llenar el cÃ­rculo (700 total)
        const frasesExtendidas = [];
        for (let i = 0; i < 3; i++) {
            frasesExtendidas.push(...frasesAmor);
        }
        // Cortar a exactamente 700
        frasesExtendidas.length = 700;

        frasesExtendidas.forEach((texto, index) => {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = 900;
            canvas.height = 50;
            
            // Fondo muy sutil
            ctx.fillStyle = 'rgba(139, 71, 137, 0.2)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Texto blanco brillante
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);
            gradient.addColorStop(0, '#FFFFFF');
            gradient.addColorStop(0.5, '#FFE6F5');
            gradient.addColorStop(1, '#FFFFFF');
            
            ctx.fillStyle = gradient;
            ctx.font = 'bold 26px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.shadowBlur = 10;
            ctx.shadowColor = '#FFFFFF';
            ctx.fillText(texto, canvas.width / 2, canvas.height / 2);
            
            const texture = new THREE.CanvasTexture(canvas);
            const material = new THREE.SpriteMaterial({
                map: texture,
                transparent: true,
                opacity: 0.75,
                blending: THREE.AdditiveBlending
            });
            const sprite = new THREE.Sprite(material);
            
            // DISTRIBUIR EN ANILLOS CIRCULARES (como capas de cebolla)
            const numAnillos = 8;
            const anillo = index % numAnillos;
            const radio = 150 + (anillo * 40); // Radio del anillo
            
            // Ãngulo inicial distribuido uniformemente
            const frasesPerAnillo = Math.floor(frasesExtendidas.length / numAnillos);
            const indiceFrase = Math.floor(index / numAnillos);
            const angulo = (indiceFrase / frasesPerAnillo) * Math.PI * 2;
            
            // PosiciÃ³n en cÃ­rculo
            const x = Math.cos(angulo) * radio;
            const z = Math.sin(angulo) * radio;
            
            // Altura Y con variaciÃ³n MÃS PLANA
            const y = -30 + (Math.random() * 60);
            
            sprite.position.set(x, y, z);
            sprite.scale.set(130, 8, 1);
            
            // Guardar datos para rotaciÃ³n
            sprite.userData.radio = radio;
            sprite.userData.angulo = angulo;
            sprite.userData.velocidadAngular = 0.003 + (anillo * 0.0003); // Los anillos externos giran mÃ¡s rÃ¡pido
            sprite.userData.alturaY = y;
            
            frasesGroup.add(sprite);
        });

        scene.add(galaxiaGroup);
        scene.add(frasesGroup);

        // ============================================
        // CONTROLES MEJORADOS CON PINCH ZOOM
        // ============================================
        let mouseDown = false;
        let mouseX = 0, mouseY = 0;
        let targetRotX = 0, targetRotY = 0;
        let currentRotX = 0, currentRotY = 0;

        // Mouse controls
        renderer.domElement.addEventListener('mousedown', (e) => {
            mouseDown = true;
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        renderer.domElement.addEventListener('mousemove', (e) => {
            if (mouseDown) {
                const deltaX = (e.clientX - mouseX) * 0.005;
                const deltaY = (e.clientY - mouseY) * 0.005;
                
                targetRotY += deltaX;
                targetRotX += deltaY;
                
                targetRotX = Math.max(-Math.PI / 2.5, Math.min(Math.PI / 2.5, targetRotX));
                
                mouseX = e.clientX;
                mouseY = e.clientY;
            }
        });

        renderer.domElement.addEventListener('mouseup', () => mouseDown = false);
        renderer.domElement.addEventListener('mouseleave', () => mouseDown = false);

        // Touch controls con pinch zoom
        let touchX = 0, touchY = 0;
        let initialPinchDistance = 0;
        let lastPinchDistance = 0;
        
        renderer.domElement.addEventListener('touchstart', (e) => {
            if (e.touches.length === 1) {
                // Single touch - rotaciÃ³n
                touchX = e.touches[0].clientX;
                touchY = e.touches[0].clientY;
            } else if (e.touches.length === 2) {
                // Pinch zoom - calcular distancia inicial
                const dx = e.touches[0].clientX - e.touches[1].clientX;
                const dy = e.touches[0].clientY - e.touches[1].clientY;
                initialPinchDistance = Math.sqrt(dx * dx + dy * dy);
                lastPinchDistance = initialPinchDistance;
            }
        });

        renderer.domElement.addEventListener('touchmove', (e) => {
            e.preventDefault();
            
            if (e.touches.length === 1) {
                // Single touch - rotaciÃ³n
                const deltaX = (e.touches[0].clientX - touchX) * 0.005;
                const deltaY = (e.touches[0].clientY - touchY) * 0.005;
                
                targetRotY += deltaX;
                targetRotX += deltaY;
                
                targetRotX = Math.max(-Math.PI / 2.5, Math.min(Math.PI / 2.5, targetRotX));
                
                touchX = e.touches[0].clientX;
                touchY = e.touches[0].clientY;
            } else if (e.touches.length === 2) {
                // Pinch zoom
                const dx = e.touches[0].clientX - e.touches[1].clientX;
                const dy = e.touches[0].clientY - e.touches[1].clientY;
                const currentDistance = Math.sqrt(dx * dx + dy * dy);
                
                // Calcular diferencia y aplicar zoom
                const pinchDelta = lastPinchDistance - currentDistance;
                camera.position.z += pinchDelta * 2;
                camera.position.z = Math.max(200, Math.min(1200, camera.position.z));
                
                lastPinchDistance = currentDistance;
            }
        });

        renderer.domElement.addEventListener('touchend', (e) => {
            if (e.touches.length < 2) {
                initialPinchDistance = 0;
                lastPinchDistance = 0;
            }
            if (e.touches.length === 1) {
                touchX = e.touches[0].clientX;
                touchY = e.touches[0].clientY;
            }
        });

        // Zoom con rueda del mouse
        renderer.domElement.addEventListener('wheel', (e) => {
            e.preventDefault();
            camera.position.z += e.deltaY * 0.3;
            camera.position.z = Math.max(200, Math.min(1200, camera.position.z));
        });

        // ============================================
        // ANIMACIÃ“N FLUIDA
        // ============================================
        let time = 0;

        function animate() {
            requestAnimationFrame(animate);
            time += 0.01;

            // RotaciÃ³n suave - cÃ¡mara sigue el mouse sutilmente
            currentRotX += (targetRotX - currentRotX) * 0.03;
            currentRotY += (targetRotY - currentRotY) * 0.03;

            // FRASES GIRANDO EN CÃRCULO
            frasesGroup.children.forEach((sprite) => {
                // Actualizar Ã¡ngulo
                sprite.userData.angulo += sprite.userData.velocidadAngular;
                
                // Calcular nueva posiciÃ³n en cÃ­rculo
                const x = Math.cos(sprite.userData.angulo) * sprite.userData.radio;
                const z = Math.sin(sprite.userData.angulo) * sprite.userData.radio;
                
                sprite.position.x = x;
                sprite.position.z = z;
                sprite.position.y = sprite.userData.alturaY;
                
                // Hacer que miren hacia afuera del cÃ­rculo
                sprite.lookAt(
                    x * 2,
                    sprite.userData.alturaY,
                    z * 2
                );
            });

            // InclinaciÃ³n sutil del grupo de frases con el mouse
            frasesGroup.rotation.x = currentRotX * 0.1;
            frasesGroup.rotation.y = currentRotY * 0.1;

            // Rotar nÃºcleo y disco lentamente
            nucleo.rotation.y += 0.001;
            disco.rotation.z += 0.0005;

            // ROTACIÃ“N 3D DE ESTRELLAS CON EL MOUSE
            estrellas.rotation.y += 0.0001;
            estrellas.rotation.x = currentRotX * 0.15;
            estrellas.rotation.y += currentRotY * 0.02;

            // Rotar estrellas extra con efecto 3D
            estrellasExtra.rotation.y -= 0.00015;
            estrellasExtra.rotation.x += 0.00005;
            estrellasExtra.rotation.x += currentRotX * 0.2;
            estrellasExtra.rotation.y += currentRotY * 0.025;

            // Rotar constelaciones con el mouse
            constelaciones.rotation.x = currentRotX * 0.18;
            constelaciones.rotation.y = currentRotY * 0.022;

            // Rotar partÃ­culas flotantes tambiÃ©n
            particulasFlotantes.rotation.x = currentRotX * 0.12;
            particulasFlotantes.rotation.y = currentRotY * 0.015;

            // Rotar anillos
            scene.children.forEach(child => {
                if (child.userData.velocidadRotacion) {
                    child.rotation.z += child.userData.velocidadRotacion;
                }
            });

            // PartÃ­culas flotando suavemente
            const posiciones = particulasFlotantes.geometry.attributes.position.array;
            for (let i = 0; i < posiciones.length; i += 3) {
                posiciones[i + 1] += Math.sin(time * 0.5 + i) * 0.1;
            }
            particulasFlotantes.geometry.attributes.position.needsUpdate = true;

            // Estrellas rotaciÃ³n lenta
            estrellas.rotation.y += 0.0001;

            // Rotar estrellas extra
            estrellasExtra.rotation.y -= 0.00015;
            estrellasExtra.rotation.x += 0.00005;

            // Animar auroras
            scene.children.forEach(child => {
                if (child.material && child.material.uniforms && child.material.uniforms.time) {
                    child.material.uniforms.time.value = time;
                    
                    // Movimiento ondulante
                    child.position.y = child.position.y + Math.sin(time + child.userData.offsetY) * 0.3;
                }
            });

            renderer.render(scene, camera);
        }

        // Responsive
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        animate();
    </script>
</body>
</html>
